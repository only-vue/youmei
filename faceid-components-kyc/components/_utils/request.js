"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function verifyVideo(e,r){return e=Object.assign(e,{url:"/video_verify",sourceType:["camera"],name:"video"}),new _es6Promise2.default(function(t,n){new _request2.default({options:e,beforeSend:function(){return r.showLoading("LOADING")},afterResponse:function(){return r.hideModal()}}).upload().then(function(e){1e3===e.result_code||"VIDEO_MANY_TIMES"===e.result_message||e.result_code&&4200!==e.result_code?t({result_code:"FINISHED",data:e}):n({result_code:e.result_message,data:e})}).catch(function(e){n(e)})})}function getOCRVerifyResult(e,r){return e=Object.assign(e,{url:"/ocridcard",sourceType:["camera"],name:"idcard_image"}),new _es6Promise2.default(function(t,n){new _request2.default({options:e,beforeSend:function(){return r.showLoading("LOADING")},afterResponse:function(){return r.hideModal()}}).upload().then(function(e){["IDCARD_PHOTO_INVALID_SIZE","IDCARD_PHOTO_INVALID_FORMAT","IDCARD_FRONTSIDE_MANY_TIMES","IDCARD_BACKSIDE_MANY_TIMES","IDCARD_PROCESS_ERROR"].indexOf(e.result_message)>-1?n({result_code:"FINISHED",data:e}):[3100,3200].indexOf(e.result_code)>-1?n({result_code:e.result_message,data:e}):t(e)}).catch(function(e){n(e)})})}function getUserInfo(e){return new _request2.default({options:{url:"/get_config",method:"GET",data:{biz_token:e}}}).request()}function cancel(e,r,t){return new _request2.default({options:{url:"/cancel",data:{biz_token:e}},beforeSend:r,afterResponse:t}).post()}function ocrConfirm(e){return new _request2.default({options:Object.assign(e,{url:"/ocridcard_confirm"})}).post()}function idcardConfirm(e){return new _request2.default({options:Object.assign(e,{url:"/idcard_confirm"})}).post()}var _es6Promise=require("../../vendors/es6-promise.min"),_es6Promise2=_interopRequireDefault(_es6Promise),_request=require("../../tools/_request"),_request2=_interopRequireDefault(_request);module.exports={getUserInfo:getUserInfo,cancel:cancel,getOCRVerifyResult:getOCRVerifyResult,ocrConfirm:ocrConfirm,verifyVideo:verifyVideo,idcardConfirm:idcardConfirm};